import"./style-BD-upOib.js";import{_ as m,P as q,S as V,C as U,E as W,B as F,L as $,a as G,A as z,W as J,O as H,V as X}from"./OrbitControls-BbRSWhb2.js";import{G as b}from"./cookies-lEVMIMuA.js";const Y=Object.assign({"../images/planets/planet1.gif":()=>m(()=>import("./planet1-J8_7dc03.js"),[]),"../images/planets/planet10.gif":()=>m(()=>import("./planet10-BTmWlkm_.js"),[]),"../images/planets/planet11.gif":()=>m(()=>import("./planet11-DUCUytMa.js"),[]),"../images/planets/planet12.gif":()=>m(()=>import("./planet12-BUWjN42h.js"),[]),"../images/planets/planet13.gif":()=>m(()=>import("./planet13-DVqo3JmI.js"),[]),"../images/planets/planet14.gif":()=>m(()=>import("./planet14-J8_7dc03.js"),[]),"../images/planets/planet15.gif":()=>m(()=>import("./planet15-RQtNP_cq.js"),[]),"../images/planets/planet16.gif":()=>m(()=>import("./planet16-DlDGQVz2.js"),[]),"../images/planets/planet17.gif":()=>m(()=>import("./planet17-BQhLZnto.js"),[]),"../images/planets/planet18.gif":()=>m(()=>import("./planet18-Uo4bzgvG.js"),[]),"../images/planets/planet19.gif":()=>m(()=>import("./planet19-BOi7XJJ8.js"),[]),"../images/planets/planet2.gif":()=>m(()=>import("./planet2-yREevO59.js"),[]),"../images/planets/planet3.gif":()=>m(()=>import("./planet3-DYyL4a8b.js"),[]),"../images/planets/planet4.gif":()=>m(()=>import("./planet4-CwGUDKiJ.js"),[]),"../images/planets/planet5.gif":()=>m(()=>import("./planet5-DUqOhkdm.js"),[]),"../images/planets/planet6.gif":()=>m(()=>import("./planet6-ZyUMbc-j.js"),[]),"../images/planets/planet7.gif":()=>m(()=>import("./planet7-BB9F1Z2V.js"),[]),"../images/planets/planet8.gif":()=>m(()=>import("./planet8-xziQArWX.js"),[]),"../images/planets/planet9.gif":()=>m(()=>import("./planet9-BryvjOqc.js"),[])}),K=Object.assign({"../images/stars/star1.gif":()=>m(()=>import("./star1-BevWG1Q-.js"),[]),"../images/stars/star2.gif":()=>m(()=>import("./star2-BddwWvOb.js"),[])}),N=[],k=[];for(const s in Y)N.push(s);for(const s in K)k.push(s);let u=1,M="rgba(50, 50, 93, 0.25) 0px 30px 60px -12px inset, rgba(0, 0, 0, 0.3) 0px 18px 36px -18px inset",g=!1,_=[],x=[];document.addEventListener("DOMContentLoaded",async()=>{A("objects"),Q()});window.DisplayAddUI=()=>{L(),g=!0;const s=document.getElementById("name-display");s.innerText="",s.dataset.id=Math.round(Math.random()*1e4);const e=document.getElementById("left-data"),a=document.getElementById("right-data"),o=document.getElementById("data-template");for(;e.firstChild;)e.removeChild(e.lastChild);for(;a.firstChild;)a.removeChild(a.lastChild);if(u==0){const i=document.getElementById("img-display");i.style.display="block",v(i,s.dataset.id,"planet");const l=o.content.cloneNode(!0),t=l.querySelectorAll("span");t[0].innerText="Type",t[1].innerText="Planet",t[1].classList.add("text-data"),l.querySelectorAll("div")[4].style.visibility="hidden",e.appendChild(l);const n=o.content.cloneNode(!0),d=n.querySelectorAll("span");d[0].innerText="Mass",d[1].classList.add("numerical-data"),d[1].id="mass",d[2].innerText="EM",d[3].innerText="1 EM is equal to the mass of Earth",e.appendChild(n);const r=o.content.cloneNode(!0),c=r.querySelectorAll("span");c[0].innerText="Radius",c[1].classList.add("numerical-data"),c[1].id="radius",c[2].innerText="ER",c[3].innerText="1 ER is equal to the radius of Earth",e.appendChild(r)}else u==1&&(document.getElementById("img-display").style.display="none",document.getElementById("render-window").style.visibility="visible",j());Edit()};function v(s,e,a){let o;if(a=="planet"){let i=D(parseInt(e),17);o=N[i]}else if(a=="star"){let i=D(parseInt(e),1);o=k[i]}else return;s.setAttribute("src",o)}window.Cancel=()=>{if(R(),g)L();else{const s=document.getElementById("title-input"),e=S(s.dataset.id);if(u==0){const n=document.getElementById("img-display");v(n,e.objectId,e.type)}const a=document.createElement("a");a.classList.add("name"),a.id="name-display",a.dataset.id=u==0?e.objectId:e.orbitId,a.innerText=e.name,s.replaceWith(a);const o=document.getElementById("left-data"),i=document.getElementById("right-data"),l=o.getElementsByClassName("data-input"),t=i.getElementsByClassName("data-input");if(u==0){for(let r=0;r<=1;r++){let c=document.createElement("span");c.classList.add("numerical-data"),c.classList.add("data-display"),r==0?(c.innerText=e.mass,c.id="mass"):(c.innerText=e.radius,c.id="radius"),l[0].replaceWith(c)}const n=document.getElementsByClassName("data-display-container")[0],d=n.querySelectorAll("span");n.classList.remove("activate-border"),d[0].classList.remove("type-selected"),d[0].classList.remove("not-selected"),d[1].remove()}else if(u==1){for(let r=0;r<=2;r++){let c=document.createElement("span");switch(c.classList.add("numerical-data"),c.classList.add("data-display"),r){case 0:c.innerText=e.smAxis,c.id="semi-major-axis";break;case 1:c.innerText=e.eccentricity,c.id="eccentricity";break;case 2:c.innerText=e.inclination,c.id="inclination"}l[0].replaceWith(c)}for(let r=0;r<=1;r++){let c=document.createElement("span");switch(c.classList.add("numerical-data"),c.classList.add("data-display"),r){case 0:c.innerText=e.longOfAscNode,c.id="long-of-asc-node";break;case 1:c.innerText=e.argOfPeri,c.id="arg-of-peri"}t[0].replaceWith(c)}const n=document.getElementById("eccentricity-trigger");n.dataset.val=e.eccentricity,n.click();const d=document.getElementById("inclination-trigger");d.dataset.val=e.inclination,d.click()}document.getElementById("edit-button").style.visibility="visible",document.getElementById("button-container").style.visibility="hidden"}};window.Save=async()=>{const s=document.getElementById("left-data"),e=document.getElementById("right-data"),a=document.getElementById("title-input");let o;u==0&&(o=document.getElementsByClassName("type-selected")[0].innerText.toLowerCase());const i=s.getElementsByClassName("data-input"),l=e.getElementsByClassName("data-input"),t=a.value;let n=!0;a.classList.contains("invalid")&&(n=!1);for(let r of i)r.classList.contains("invalid")&&(n=!1);for(let r of l)r.classList.contains("invalid")&&(n=!1);let d;n&&(u==0?(g?await fetch(`https://cosmiclabapi.co.uk/api/Data/CreateObject?sessionId=${b("sessionId").replace(/['"]+/g,"").toUpperCase()}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Id:0,Name:t,Type:o,Mass:i[0].value,Radius:i[1].value})}):(d=S(a.dataset.id),d.name=t,d.type=o,d.mass=i[0].value,d.radius=i[1].value,await fetch(`https://cosmiclabapi.co.uk/api/Data/EditObject?sessionId=${b("sessionId").replace(/['"]+/g,"").toUpperCase()}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ObjectId:d.objectId,Username:d.username,OrbitId:d.orbitId,Type:d.type,Name:d.name,Mass:d.mass,Radius:d.radius})})),L(),A("objects")):u==1&&(g?await fetch(`https://cosmiclabapi.co.uk/api/Data/CreateOrbit?sessionId=${b("sessionId").replace(/['"]+/g,"").toUpperCase()}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Name:t,SMAxis:i[0].value,Eccentricity:i[1].value,Inclination:i[2].value,LongOfAscNode:l[0].value,ArgOfPeri:l[1].value})}):(d=S(a.dataset.id),d.name=t,d.smAxis=i[0].value,d.eccentricity=i[1].value,d.inclination=i[2].value,d.longOfAscNode=l[0].value,d.argOfPeri=l[1].value,await fetch(`https://cosmiclabapi.co.uk/api/Data/EditOrbit?sessionId=${b("sessionId").replace(/['"]+/g,"").toUpperCase()}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({OrbitId:d.orbitId,Username:d.username,Name:d.name,SMAxis:d.smAxis,Eccentricity:d.eccentricity,Inclination:d.inclination,LongOfAscNode:d.longOfAscNode,ArgOfPeri:d.argOfPeri})})),L(),A("orbits")))};window.SwitchType=()=>{const s=document.getElementsByClassName("not-selected")[0],e=document.getElementsByClassName("type-selected")[0];s.classList.remove("not-selected"),s.classList.add("type-selected"),e.classList.remove("type-selected"),e.classList.add("not-selected"),s.onclick=null,e.onclick=SwitchType;const a=document.getElementsByClassName("unit"),o=document.getElementsByClassName("tooltip-text"),i=document.getElementById("img-display"),l=document.getElementById("title-input").dataset.id;s.innerText=="Planet"?(a[1].innerText="EM",o[1].innerText="1 EM is equal to the mass of Earth",a[2].innerText="ER",o[2].innerText="1 ER is equal to the radius of Earth",v(i,l,"planet")):s.innerText=="Star"&&(a[1].innerText="SM",o[1].innerText="1 SM is equal to the mass of The Sun",a[2].innerText="SR",o[2].innerText="1 SR is equal to the radius of The Sun",v(i,l,"star"))};window.NoButtonIntent=s=>{const e=s.parentElement.parentElement,a=document.createElement("button");a.classList=s.dataset.classes,a.innerText=s.dataset.text,a.dataset.function=s.dataset.function,a.setAttribute("onclick","CheckButtonIntent(this)"),e.replaceWith(a)};window.CheckButtonIntent=s=>{const e=document.createElement("div"),a=document.createElement("span"),o=document.createElement("div"),i=document.createElement("button"),l=document.createElement("button");i.classList.add("yes"),l.classList.add("no"),i.setAttribute("onclick",s.dataset.function),l.setAttribute("onclick","NoButtonIntent(this)"),l.dataset.text=s.innerText,l.dataset.classes=s.classList,l.dataset.function=s.dataset.function,e.classList.add("check-intent-container"),e.appendChild(a),o.appendChild(i),o.appendChild(l),e.appendChild(o),a.innerText="Are you sure?",i.innerText="Yes",l.innerText="No",s.replaceWith(e)};window.Edit=s=>{const e=document.getElementById("left-data");document.getElementById("right-data");const a=document.getElementsByClassName("numerical-data"),o=document.getElementById("name-display"),i=document.createElement("input");if(i.classList.add("data-input-title"),g&&i.classList.add("invalid"),i.value=o.innerText,i.id="title-input",i.dataset.id=o.dataset.id,o.replaceWith(i),i.addEventListener("input",t=>{t.target.value!=""?t.target.classList.remove("invalid"):t.target.classList.add("invalid")}),u==0){const t=e.getElementsByClassName("text-data")[0];if(t.parentElement.classList.add("activate-border"),t.classList.add("type-selected"),t.innerText=="Star"){const n=document.createElement("span");n.classList.add("data-display"),n.classList.add("not-selected"),n.onclick=SwitchType,n.innerText="Planet",t.insertAdjacentElement("afterend",n)}else if(t.innerText=="Planet"){const n=document.createElement("span");n.classList.add("data-display"),n.classList.add("not-selected"),n.onclick=SwitchType,n.innerText="Star",t.insertAdjacentElement("afterend",n)}}const l=a.length;for(let t=0;t<l;t++){let n=document.createElement("input");n.classList.add("data-input"),g&&n.classList.add("invalid"),n.type="number",n.min="0",n.value=a[0].textContent,n.id=a[0].id,a[0].replaceWith(n)}u==0?(document.getElementById("mass").addEventListener("input",t=>{const n=t.target.value;n>0&&n!=""?t.target.classList.remove("invalid"):t.target.classList.add("invalid")}),document.getElementById("radius").addEventListener("input",t=>{const n=t.target.value;n>=0&&n!=""?t.target.classList.remove("invalid"):t.target.classList.add("invalid")})):u==1&&(document.getElementById("semi-major-axis").addEventListener("input",t=>{const n=t.target.value;n>=0&&n!=""?t.target.classList.remove("invalid"):t.target.classList.add("invalid")}),document.getElementById("eccentricity").addEventListener("input",t=>{const n=t.target.value;if(n>=0&&n<1&&n!=""){t.target.classList.remove("invalid");const d=document.getElementById("eccentricity-trigger");d.dataset.val=n,d.click()}else t.target.classList.add("invalid")}),document.getElementById("inclination").addEventListener("input",t=>{const n=t.target.value;if(n>=0&&n<=90&&n!=""){t.target.classList.remove("invalid");const d=document.getElementById("inclination-trigger");d.dataset.val=n,d.click()}else t.target.classList.add("invalid")}),document.getElementById("long-of-asc-node").addEventListener("input",t=>{t.target.value!=""?t.target.classList.remove("invalid"):t.target.classList.add("invalid")}),document.getElementById("arg-of-peri").addEventListener("input",t=>{t.target.value!=""?t.target.classList.remove("invalid"):t.target.classList.add("invalid")})),document.getElementById("button-container").style.visibility="visible",document.getElementById("edit-button").style.visibility="hidden"};window.Delete=async s=>{const e=document.getElementById("title-input").dataset.id;u==0?(await fetch(`https://cosmiclabapi.co.uk/api/Data/DeleteObject?sessionId=${b("sessionId").replace(/['"]+/g,"").toUpperCase()}&objectId=${e}`,{method:"POST"}),L(),A("objects")):(await fetch(`https://cosmiclabapi.co.uk/api/Data/DeleteOrbit?sessionId=${b("sessionId").replace(/['"]+/g,"").toUpperCase()}&orbitId=${e}`,{method:"POST"}),L(),A("orbits"))};async function A(s){const a=await(await fetch(`https://cosmiclabapi.co.uk/api/Data/GetUserCreations?sessionId=${b("sessionId").replace(/['"]+/g,"").toUpperCase()}`)).json();_=a.Objects.sort((o,i)=>o.name.toLowerCase()<i.name.toLowerCase()?-1:o.name.toLowerCase()>i.name.toLowerCase()?1:0),x=a.Orbits,s=="objects"?SelectObjects():s=="orbits"&&SelectOrbits()}window.SelectObjects=()=>{const s=document.getElementById("objects"),e=document.getElementById("orbits");s.style.boxShadow=M,e.style.boxShadow="";const a=document.getElementById("tile-template"),o=document.getElementById("tile-container");let i=!1;for(;!i;)o.childElementCount==1?i=!0:o.removeChild(o.lastChild);_.forEach(l=>{const t=a.content.cloneNode(!0);t.querySelector("a").innerText=l.name.charAt(0).toUpperCase()+l.name.substring(1),t.querySelector("div").dataset.id=l.objectId,v(t.querySelector("img"),l.objectId,l.type),o.appendChild(t)}),u=0};window.SelectOrbits=()=>{const s=document.getElementById("objects"),e=document.getElementById("orbits");s.style.boxShadow="",e.style.boxShadow=M;const a=document.getElementById("tile-template"),o=document.getElementById("tile-container");let i=!1;for(;!i;)o.childElementCount==1?i=!0:o.removeChild(o.lastChild);x.forEach(l=>{const t=a.content.cloneNode(!0);t.querySelector("a").innerText=l.name.charAt(0).toUpperCase()+l.name.substring(1),t.querySelector("div").dataset.id=l.orbitId,v(t.querySelector("img"),l.orbitId,"orbit"),o.appendChild(t)}),u=1};function S(s){let e,a=0;if(u==0)for(;!e;){if(_[a].objectId==s&&(e=_[a]),a==_.length)return;a++}else for(;!e;){if(x[a].orbitId==s&&(e=x[a]),a==x.length)return;a++}return e}function L(){g=!1,R();const s=document.getElementById("left-data"),e=document.getElementById("right-data");for(;s.firstChild;)s.removeChild(s.lastChild);for(;e.firstChild;)e.removeChild(e.lastChild);try{const a=document.getElementById("title-input"),o=document.createElement("a");o.classList.add("name"),o.id="name-display",a.replaceWith(o)}catch{}document.getElementById("img-display").style.display="none",document.getElementById("edit-button").style.visibility="hidden",document.getElementById("render-window").style.visibility="hidden",document.getElementById("button-container").style.visibility="hidden"}function R(){const s=document.getElementsByClassName("check-intent-container");if(s.length!=0)for(let e=0;e<=s.length;e++){const a=s[0].getElementsByClassName("no")[0],o=document.createElement("button");o.innerText=a.dataset.text,o.dataset.function=a.dataset.function,o.classList=a.dataset.classes,o.setAttribute("onclick","CheckButtonIntent(this)"),s[0].replaceWith(o)}}window.TileClicked=s=>{L();const e=S(s.dataset.id),a=document.getElementById("name-display"),o=document.getElementById("img-display"),i=document.getElementById("edit-button");document.getElementById("button-container").style.visibility="hidden",document.getElementById("render-window").style.visibility="hidden",o.style.display="block",i.style.visibility="visible",a.innerText=e.name,a.dataset.id=s.dataset.id,u==0?v(o,s.dataset.id,e.type):o.style.display="none";const l=document.getElementById("left-data"),t=document.getElementById("right-data"),n=document.getElementById("data-template");for(document.getElementById("render-window").style.visibility="hidden";l.firstChild;)l.removeChild(l.lastChild);for(;t.firstChild;)t.removeChild(t.lastChild);if(u==0){const d=n.content.cloneNode(!0),r=d.querySelectorAll("span");r[0].innerText="Type",r[1].innerText=e.type.charAt(0).toUpperCase()+e.type.slice(1).toLowerCase(),r[1].classList.add("text-data"),d.querySelectorAll("div")[4].style.visibility="hidden",l.appendChild(d);const c=n.content.cloneNode(!0),h=c.querySelectorAll("span");h[0].innerText="Mass",h[1].innerText=e.mass,h[1].id="mass",h[1].classList.add("numerical-data"),e.type=="planet"?(h[2].innerText="EM",h[3].innerText="1 EM is equal to the mass of Earth"):(h[2].innerText="SM",h[3].innerText="1 SM is equal to the mass of The Sun"),l.appendChild(c);const P=n.content.cloneNode(!0),f=P.querySelectorAll("span");f[0].innerText="Radius",f[1].innerText=e.radius,f[1].id="radius",f[1].classList.add("numerical-data"),e.type=="planet"?(f[2].innerText="ER",f[3].innerText="1 ER is equal to the radius of Earth"):(f[2].innerText="SR",f[3].innerText="1 SR is equal to the radius of The Sun"),l.appendChild(P)}else if(u==1){j(e),document.getElementById("render-window").style.visibility="visible";const d=document.getElementById("eccentricity-trigger");d.dataset.val=document.getElementById("eccentricity").innerText;const r=document.getElementById("inclination-trigger");r.dataset.val=document.getElementById("inclination").innerText,d.click(),r.click()}};function j(s){const e=document.getElementById("left-data"),a=document.getElementById("right-data"),o=document.getElementById("data-template"),i=[];i.push([`
Semi-Major Axis`,g?"":s.smAxis,"AU","One AU is one astronomical unit, which is the distance from The Sun to the Earth, and is approximately 150,000,000 km"]),i.push([`
Eccentricity`,g?"":s.eccentricity,"","Eccentricity is a 0 - 1 value that controls how close to a circle the ellipitical path is. Values closer to 0 are more circular"]),i.push([`
Incinlation`,g?"":s.inclination,"Degree","The inclination is how far above the horizontal plane the orbit is rotated"]),i.push([`Longitude Of
Ascending Node`,g?"":s.longOfAscNode,"Degree","The longitude of the ascending node is how far around the y-axis the whole orbit is rotated"]),i.push([`Argument Of
Periapsis`,g?"":s.argOfPeri,"Degree","The arguement of periapsis is the angle around the orbit that the furthest point from the center object is located"]);for(let l=0;l<Math.ceil(i.length/2);l++){let t=o.content.cloneNode(!0),n=t.querySelectorAll("span");switch(n[0].innerText=i[l][0],n[1].innerText=i[l][1],n[1].classList.add("numerical-data"),n[2].innerText=i[l][2],n[3].innerText=i[l][3],l){case 0:n[1].id="semi-major-axis";break;case 1:n[1].id="eccentricity";break;case 2:n[1].id="inclination"}e.appendChild(t)}for(let l=Math.ceil(i.length/2);l<i.length;l++){let t=o.content.cloneNode(!0),n=t.querySelectorAll("span");switch(n[0].innerText=i[l][0],n[1].innerText=i[l][1],n[1].classList.add("numerical-data"),n[2].innerText=i[l][2],n[3].innerText=i[l][3],a.appendChild(t),l){case Math.ceil(i.length/2):n[1].id="long-of-asc-node";break;case Math.ceil(i.length/2)+1:n[1].id="arg-of-peri"}}}function D(s,e,a=7.5,o=6,i=600){return Math.round(Math.pow(Math.sin(a*s+o),2)*i%e)}window.UpdateDisplay=s=>{let e=s.value,a=[];u==0?_.forEach(t=>{t.name.toLowerCase().includes(e.toLowerCase())||a.push(t.objectId)}):x.forEach(t=>{t.name.toLowerCase().includes(e.toLowerCase())||a.push(t.orbitId)});const i=document.getElementById("tile-container").children;for(var l=0;l<i.length;l++)a.includes(parseInt(i[l].dataset.id))?i[l].style.display="none":i[l].style.display="flex"};function Q(){const s=document.getElementById("star-container"),e=200+Math.round(Math.random()*200);for(let a=0;a<e;a++){const o=document.createElement("div");o.classList.add("star");const i=Math.random()*100,l=Math.random()*100;o.style.left=`${i}%`,o.style.top=`${l}%`,s.appendChild(o)}}let B,y,w,p,T,C,E,I,O;Z();function Z(){const s=document.getElementById("star-container"),e=16/9;B=new q(60,e,1,2e3),B.position.z=200,B.position.y=200,w=new V,w.background=new U(462867),I=.5,O=0,E=100;const a=Math.sqrt(E*E*(1-I*I));C=new W(E*I,0,E,a,0,2*Math.PI,!1,Math.PI);const o=C.getPoints(50),i=new F().setFromPoints(o),l=new $({color:16777215});T=new G(i,l),T.rotation.x=Math.PI*.5,T.rotation.y=O,w.add(T);const t=new z(1e4);w.add(t),p=new J({antialias:!0}),p.setPixelRatio(window.devicePixelRatio),p.setSize(16*20,9*20),p.setAnimationLoop(te),s.appendChild(p.domElement),p.domElement.id="render-window",p.domElement.style.visibility="hidden",p.domElement.style.position="absolute",p.domElement.style.top="60%",p.domElement.style.left="50%",p.domElement.style.transform="translate(-50%, -50%)";const n=document.getElementById("eccentricity-trigger"),d=document.getElementById("inclination-trigger");n.addEventListener("click",r=>{I=parseFloat(r.target.dataset.val);const c=Math.sqrt(E*E*(1-I*I));C.yRadius=c,C.aX=E*I,T.geometry.setFromPoints(C.getPoints(50))}),d.addEventListener("click",r=>{O=parseFloat(r.target.dataset.val)*Math.PI/180,T.rotation.y=O}),ee(B)}function ee(s){y=new H(s,p.domElement),y.target=new X(0,0,0),y.minPolarAngle=Math.PI/8,y.maxPolarAngle=Math.PI-Math.PI/8,y.minDistance=140,y.maxDistance=250,y.zoomSpeed=.3,y.rotateSpeed=.3,y.enablePan=!1}function te(){y.update(),ne()}function ne(){p.render(w,B)}
